async function e(){const e=await fetch("http://localhost:3000/students");return await e.json()}async function t(e){const t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},n=await fetch("http://localhost:3000/students",t);return await n.json()}async function n(e){const t=await fetch(`http://localhost:3000/students/${e}`,{method:"DELETE"});return await t.json()}async function l(e,t){const n={method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}},l=await fetch(`http://localhost:3000/students/${e}`,n);return await l.json()}const a=document.querySelector(".student-list"),o=document.querySelector(".student-btn"),s=document.querySelector("form"),c=document.getElementById("updateModal"),r=document.querySelector(".close"),i=document.getElementById("updateForm");let u=null;function d(e){const t=e.target.closest("li");n(t.dataset.id).then((()=>{alert("Студента видалено"),t.remove()}))}function p(e){const t=e.target.closest("li");u=t.dataset.id;const n={name:t.querySelector("h1").textContent.replace("Ім'я: ",""),age:t.querySelector("p:nth-of-type(1)").textContent.replace("Вік: ",""),course:t.querySelector("p:nth-of-type(2)").textContent.replace("Курс: ",""),skills:t.querySelector("p:nth-of-type(3)").textContent.replace("Скіли: ",""),email:t.querySelector("p:nth-of-type(4)").textContent.replace("Email: ",""),isEnrolled:t.querySelector("p:nth-of-type(5)").textContent.includes("true")};i.name.value=n.name,i.age.value=n.age,i.course.value=n.course,i.skills.value=n.skills,i.email.value=n.email,i.isEnrolled.checked=n.isEnrolled,c.style.display="block"}s.addEventListener("submit",(function(e){e.preventDefault();const n=e.currentTarget.elements;t({name:n.name.value,age:n.age.value,course:n.course.value,skills:[n.skills.value],email:n.email.value,isEnrolled:n.isEnrolled.checked}).then((()=>{alert("Студента додано"),o.click()})),e.currentTarget.reset()})),o.addEventListener("click",(()=>{e().then((e=>{const t=e.map((e=>`\n        <li data-id="${e.id}">\n            <h1>Ім'я: ${e.name}</h1>\n            <p>Вік: ${e.age}</p>\n            <p>Курс: ${e.course}</p>\n            <p>Скіли: ${e.skills}</p>\n            <p>Email: ${e.email}</p>\n            <p>Зараховано: ${e.isEnrolled}</p>\n            <button class="student-delete">Видалити студента</button>\n            <button class="student-update">Оновити студента</button>\n        </li>\n        `)).join("");a.innerHTML="",a.insertAdjacentHTML("beforeend",t),document.querySelectorAll(".student-delete").forEach((e=>{e.addEventListener("click",d)})),document.querySelectorAll(".student-update").forEach((e=>{e.addEventListener("click",p)}))}))})),r.onclick=()=>{c.style.display="none"},i.addEventListener("submit",(e=>{e.preventDefault();const t={name:i.name.value,age:i.age.value,course:i.course.value,skills:i.skills.value.split(","),email:i.email.value,isEnrolled:i.isEnrolled.checked};l(u,t).then((()=>{alert("Дані студента оновлено"),c.style.display="none",o.click()}))})),window.onclick=e=>{e.target==c&&(c.style.display="none")};
//# sourceMappingURL=index.cb503d10.js.map
